{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Spl\\\\Desktop\\\\fastreport_project\\\\Inform\\\\inform_frontend\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport Datalist from \"./components/datalist\";\nimport Select from \"./components/select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function postData(json, api) {\n  const res = await fetch(api, {\n    method: \"POST\",\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify(json)\n  });\n  return res;\n}\nconst App = ({\n  user_id,\n  program_no\n}) => {\n  function sendAPI() {\n    var json = {};\n    json.syearEnd = '111';\n    json.semEnd = '2';\n    json.StudentId = user_id;\n    var FileName;\n    postData(json, \"http://localhost:44371/api/Calculate\").then(function (response) {\n      return postData(json, \"http://localhost:55082/api/generate\");\n    }).then(function (response) {\n      var FileNameEncode = response.headers.get('Content-Disposition').split('filename=')[1];\n      FileName = decodeURIComponent(FileNameEncode);\n      return response.blob();\n    }).then(function (blob) {\n      var url = window.URL.createObjectURL(blob);\n      var a = document.createElement('a');\n      a.href = url;\n      a.download = FileName;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    }).catch(function (Error) {\n      console.log(Error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit\",\n        onClick: sendAPI,\n        children: \"\\u9001\\u51FA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Datalist","Select","jsxDEV","_jsxDEV","postData","json","api","res","fetch","method","headers","body","JSON","stringify","App","user_id","program_no","sendAPI","syearEnd","semEnd","StudentId","FileName","then","response","FileNameEncode","get","split","decodeURIComponent","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","removeChild","catch","Error","console","log","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Spl/Desktop/fastreport_project/Inform/inform_frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport './App.css';\nimport Datalist from \"./components/datalist\";\nimport Select from \"./components/select\";\n\nasync function postData(json, api) {\n    const res = await fetch(api, {\n        method: \"POST\",\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(json)\n    })\n    return res;\n}\n\nconst App = ({user_id, program_no}) => {\n\n\n    function sendAPI() {\n        var json = {}\n        json.syearEnd = '111';\n        json.semEnd = '2';\n        json.StudentId = user_id;\n\n        var FileName;\n\n        postData(json, \"http://localhost:44371/api/Calculate\")\n            .then(function (response) {\n                return postData(json, \"http://localhost:55082/api/generate\");\n            }).then(function (response) {\n            var FileNameEncode = response.headers.get('Content-Disposition').split('filename=')[1];\n            FileName = decodeURIComponent(FileNameEncode);\n            return response.blob();\n        }).then(function (blob) {\n            var url = window.URL.createObjectURL(blob);\n            var a = document.createElement('a');\n            a.href = url;\n            a.download = FileName;\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n            document.body.removeChild(a);\n        }).catch(function (Error) {\n            console.log(Error);\n        });\n    }\n    return (\n        <div className=\"App\">\n            <div>\n                <button className=\"submit\" onClick={sendAPI}>送出</button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,OAAO,WAAW;AAClB,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,MAAM,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,eAAeC,QAAQA,CAACC,IAAI,EAAEC,GAAG,EAAE;EAC/B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACzBG,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;EAC7B,CAAC,CAAC;EACF,OAAOE,GAAG;AACd;AAEA,MAAMO,GAAG,GAAGA,CAAC;EAACC,OAAO;EAAEC;AAAU,CAAC,KAAK;EAGnC,SAASC,OAAOA,CAAA,EAAG;IACf,IAAIZ,IAAI,GAAG,CAAC,CAAC;IACbA,IAAI,CAACa,QAAQ,GAAG,KAAK;IACrBb,IAAI,CAACc,MAAM,GAAG,GAAG;IACjBd,IAAI,CAACe,SAAS,GAAGL,OAAO;IAExB,IAAIM,QAAQ;IAEZjB,QAAQ,CAACC,IAAI,EAAE,sCAAsC,CAAC,CACjDiB,IAAI,CAAC,UAAUC,QAAQ,EAAE;MACtB,OAAOnB,QAAQ,CAACC,IAAI,EAAE,qCAAqC,CAAC;IAChE,CAAC,CAAC,CAACiB,IAAI,CAAC,UAAUC,QAAQ,EAAE;MAC5B,IAAIC,cAAc,GAAGD,QAAQ,CAACb,OAAO,CAACe,GAAG,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;MACtFL,QAAQ,GAAGM,kBAAkB,CAACH,cAAc,CAAC;MAC7C,OAAOD,QAAQ,CAACK,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,CAACN,IAAI,CAAC,UAAUM,IAAI,EAAE;MACpB,IAAIC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;MAC1C,IAAIK,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACnCF,CAAC,CAACG,IAAI,GAAGP,GAAG;MACZI,CAAC,CAACI,QAAQ,GAAGhB,QAAQ;MACrBa,QAAQ,CAACvB,IAAI,CAAC2B,WAAW,CAACL,CAAC,CAAC;MAC5BA,CAAC,CAACM,KAAK,CAAC,CAAC;MACTT,MAAM,CAACC,GAAG,CAACS,eAAe,CAACX,GAAG,CAAC;MAC/BK,QAAQ,CAACvB,IAAI,CAAC8B,WAAW,CAACR,CAAC,CAAC;IAChC,CAAC,CAAC,CAACS,KAAK,CAAC,UAAUC,KAAK,EAAE;MACtBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EACA,oBACIxC,OAAA;IAAK2C,SAAS,EAAC,KAAK;IAAAC,QAAA,eAChB5C,OAAA;MAAA4C,QAAA,eACI5C,OAAA;QAAQ2C,SAAS,EAAC,QAAQ;QAACE,OAAO,EAAE/B,OAAQ;QAAA8B,QAAA,EAAC;MAAE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAAC,EAAA,GAtCKvC,GAAG;AAwCT,eAAeA,GAAG;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import'./App.css';import Datalist from\"./components/datalist\";import Select from\"./components/select\";import{jsx as _jsx}from\"react/jsx-runtime\";async function postData(json,api){const res=await fetch(api,{method:\"POST\",headers:{'content-type':'application/json'},body:JSON.stringify(json)});return res;}const App=_ref=>{let{user_id,program_no}=_ref;function sendAPI(){var json={};json.syearEnd='111';json.semEnd='2';json.StudentId=user_id;var FileName;postData(json,\"http://localhost:44371/api/Calculate\").then(function(response){return postData(json,\"http://localhost:44349/api/generate\");}).then(function(response){var FileNameEncode=response.headers.get('Content-Disposition').split('filename=')[1];FileName=decodeURIComponent(FileNameEncode);return response.blob();}).then(function(blob){var url=window.URL.createObjectURL(blob);var a=document.createElement('a');a.href=url;a.download=FileName;document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);}).catch(function(Error){console.log(Error);});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"submit\",onClick:sendAPI,children:\"\\u9001\\u51FA\"})})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Datalist","Select","jsx","_jsx","postData","json","api","res","fetch","method","headers","body","JSON","stringify","App","_ref","user_id","program_no","sendAPI","syearEnd","semEnd","StudentId","FileName","then","response","FileNameEncode","get","split","decodeURIComponent","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","removeChild","catch","Error","console","log","className","children","onClick"],"sources":["C:/Users/Spl/Desktop/fastreport_project/Inform/inform_frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport './App.css';\nimport Datalist from \"./components/datalist\";\nimport Select from \"./components/select\";\n\nasync function postData(json, api) {\n    const res = await fetch(api, {\n        method: \"POST\",\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(json)\n    })\n    return res;\n}\n\nconst App = ({user_id, program_no}) => {\n\n\n    function sendAPI() {\n        var json = {}\n        json.syearEnd = '111';\n        json.semEnd = '2';\n        json.StudentId = user_id;\n\n        var FileName;\n\n        postData(json, \"http://localhost:44371/api/Calculate\")\n            .then(function (response) {\n                return postData(json, \"http://localhost:44349/api/generate\");\n            }).then(function (response) {\n            var FileNameEncode = response.headers.get('Content-Disposition').split('filename=')[1];\n            FileName = decodeURIComponent(FileNameEncode);\n            return response.blob();\n        }).then(function (blob) {\n            var url = window.URL.createObjectURL(blob);\n            var a = document.createElement('a');\n            a.href = url;\n            a.download = FileName;\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n            document.body.removeChild(a);\n        }).catch(function (Error) {\n            console.log(Error);\n        });\n    }\n    return (\n        <div className=\"App\">\n            <div>\n                <button className=\"submit\" onClick={sendAPI}>送出</button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,MAAO,WAAW,CAClB,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,cAAe,CAAAC,QAAQA,CAACC,IAAI,CAAEC,GAAG,CAAE,CAC/B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACF,GAAG,CAAE,CACzBG,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAC7B,CAAC,CAAC,CACF,MAAO,CAAAE,GAAG,CACd,CAEA,KAAM,CAAAO,GAAG,CAAGC,IAAA,EAA2B,IAA1B,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAAF,IAAA,CAG9B,QAAS,CAAAG,OAAOA,CAAA,CAAG,CACf,GAAI,CAAAb,IAAI,CAAG,CAAC,CAAC,CACbA,IAAI,CAACc,QAAQ,CAAG,KAAK,CACrBd,IAAI,CAACe,MAAM,CAAG,GAAG,CACjBf,IAAI,CAACgB,SAAS,CAAGL,OAAO,CAExB,GAAI,CAAAM,QAAQ,CAEZlB,QAAQ,CAACC,IAAI,CAAE,sCAAsC,CAAC,CACjDkB,IAAI,CAAC,SAAUC,QAAQ,CAAE,CACtB,MAAO,CAAApB,QAAQ,CAACC,IAAI,CAAE,qCAAqC,CAAC,CAChE,CAAC,CAAC,CAACkB,IAAI,CAAC,SAAUC,QAAQ,CAAE,CAC5B,GAAI,CAAAC,cAAc,CAAGD,QAAQ,CAACd,OAAO,CAACgB,GAAG,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CACtFL,QAAQ,CAAGM,kBAAkB,CAACH,cAAc,CAAC,CAC7C,MAAO,CAAAD,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CAACN,IAAI,CAAC,SAAUM,IAAI,CAAE,CACpB,GAAI,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAC1C,GAAI,CAAAK,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACnCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,CAAGhB,QAAQ,CACrBa,QAAQ,CAACxB,IAAI,CAAC4B,WAAW,CAACL,CAAC,CAAC,CAC5BA,CAAC,CAACM,KAAK,CAAC,CAAC,CACTT,MAAM,CAACC,GAAG,CAACS,eAAe,CAACX,GAAG,CAAC,CAC/BK,QAAQ,CAACxB,IAAI,CAAC+B,WAAW,CAACR,CAAC,CAAC,CAChC,CAAC,CAAC,CAACS,KAAK,CAAC,SAAUC,KAAK,CAAE,CACtBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CAAC,CAAC,CACN,CACA,mBACIzC,IAAA,QAAK4C,SAAS,CAAC,KAAK,CAAAC,QAAA,cAChB7C,IAAA,QAAA6C,QAAA,cACI7C,IAAA,WAAQ4C,SAAS,CAAC,QAAQ,CAACE,OAAO,CAAE/B,OAAQ,CAAA8B,QAAA,CAAC,cAAE,CAAQ,CAAC,CACvD,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAlC,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}
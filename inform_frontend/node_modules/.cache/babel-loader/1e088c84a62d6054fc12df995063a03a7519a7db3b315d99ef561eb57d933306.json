{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Spl\\\\Desktop\\\\fastreport_project\\\\Inform\\\\inform_frontend\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function postData(json, api) {\n  const res = await fetch(api, {\n    method: \"POST\",\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify(json)\n  });\n  return res;\n}\nconst App = ({\n  user_id,\n  program_no\n}) => {\n  function sendAPI() {\n    var FileName;\n    postData({\n      Acadno: 3\n    }, \"http://localhost:44329/api/pub/date\");\n    postData({\n      Acadno: 3\n    }, \"http://localhost:44329/api/pub/date\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data) {\n        var json = {};\n        json.syearEnd = data.syearEnd;\n        json.semEnd = data.semEnd;\n        json.StudentId = user_id;\n        postData(json, \"http://localhost:44371/api/Calculate\").then(function (response) {\n          return postData(json, \"http://localhost:44349/api/generate\");\n        }).then(function (response) {\n          var FileNameEncode = response.headers.get('Content-Disposition').split('filename=')[1];\n          FileName = decodeURIComponent(FileNameEncode);\n          return response.blob();\n        }).then(function (blob) {\n          var url = window.URL.createObjectURL(blob);\n          var a = document.createElement('a');\n          a.href = url;\n          a.download = FileName;\n          document.body.appendChild(a);\n          a.click();\n          window.URL.revokeObjectURL(url);\n          document.body.removeChild(a);\n        }).catch(function (Error) {\n          console.log(Error);\n        });\n      } else alert(\"不在時限內\");\n    }).catch(function (Error) {\n      console.log(Error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit\",\n        onClick: sendAPI,\n        children: \"\\u9001\\u51FA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","postData","json","api","res","fetch","method","headers","body","JSON","stringify","App","user_id","program_no","sendAPI","FileName","Acadno","then","response","data","syearEnd","semEnd","StudentId","FileNameEncode","get","split","decodeURIComponent","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","removeChild","catch","Error","console","log","alert","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Spl/Desktop/fastreport_project/Inform/inform_frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport './App.css';\n\nasync function postData(json, api) {\n    const res = await fetch(api, {\n        method: \"POST\",\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(json)\n    })\n    return res;\n}\n\nconst App = ({user_id, program_no}) => {\n    function sendAPI() {\n        var FileName;\n\n        postData({Acadno: 3}, \"http://localhost:44329/api/pub/date\")\n        postData({Acadno: 3}, \"http://localhost:44329/api/pub/date\")\n            .then(function (response) {\n                return response.json()\n            }).then(function (data) {\n            if (data) {\n                var json = {}\n                json.syearEnd = data.syearEnd;\n                json.semEnd = data.semEnd;\n                json.StudentId = user_id;\n                postData(json, \"http://localhost:44371/api/Calculate\")\n                    .then(function (response) {\n                        return postData(json, \"http://localhost:44349/api/generate\");\n                    }).then(function (response) {\n                    var FileNameEncode = response.headers.get('Content-Disposition').split('filename=')[1];\n                    FileName = decodeURIComponent(FileNameEncode);\n                    return response.blob();\n                }).then(function (blob) {\n                    var url = window.URL.createObjectURL(blob);\n                    var a = document.createElement('a');\n                    a.href = url;\n                    a.download = FileName;\n                    document.body.appendChild(a);\n                    a.click();\n                    window.URL.revokeObjectURL(url);\n                    document.body.removeChild(a);\n                }).catch(function (Error) {\n                    console.log(Error);\n                });\n            } else alert(\"不在時限內\");\n        }).catch(function (Error) {\n            console.log(Error);\n        });\n    }\n\n    return (\n        <div className=\"App\">\n            <div>\n                <button className=\"submit\" onClick={sendAPI}>送出</button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}